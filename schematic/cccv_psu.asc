Version 4
SHEET 1 1396 1072
WIRE 608 -64 464 -64
WIRE 720 -64 608 -64
WIRE 928 -64 720 -64
WIRE 1136 -64 928 -64
WIRE 608 -48 608 -64
WIRE 544 0 496 0
WIRE 720 0 720 -64
WIRE 928 0 928 -64
WIRE 1136 0 1136 -64
WIRE 624 48 608 48
WIRE 656 48 624 48
WIRE 624 112 624 48
WIRE 720 112 720 96
WIRE 928 112 928 96
WIRE 1136 112 1136 96
WIRE -240 128 -336 128
WIRE -336 144 -336 128
WIRE -96 144 -176 144
WIRE 0 144 -16 144
WIRE 16 144 0 144
WIRE 128 144 96 144
WIRE 224 144 128 144
WIRE -240 160 -272 160
WIRE 336 160 288 160
WIRE 496 160 496 0
WIRE 496 160 416 160
WIRE 224 176 192 176
WIRE 0 192 0 144
WIRE 496 192 496 160
WIRE 528 192 496 192
WIRE 624 192 624 112
WIRE 624 192 608 192
WIRE 640 192 624 192
WIRE 928 192 720 192
WIRE 1136 192 928 192
WIRE 256 208 256 192
WIRE -64 240 -112 240
WIRE 192 272 192 176
WIRE 480 272 192 272
WIRE 720 272 720 192
WIRE 720 272 480 272
WIRE -640 288 -640 256
WIRE 0 304 0 288
WIRE 480 304 480 272
WIRE -272 384 -272 160
WIRE -240 384 -272 384
WIRE 128 384 128 144
WIRE 128 384 -160 384
WIRE 640 384 640 368
WIRE 720 384 720 368
WIRE -272 416 -272 384
WIRE 480 416 480 384
WIRE 592 416 480 416
WIRE 480 432 480 416
WIRE -272 512 -272 496
WIRE 592 512 592 416
WIRE 624 512 592 512
WIRE 752 528 688 528
WIRE 480 544 480 512
WIRE 624 544 592 544
WIRE 752 576 752 528
WIRE 800 576 752 576
WIRE 592 624 592 544
WIRE 640 624 592 624
WIRE 752 624 752 576
WIRE 752 624 720 624
WIRE -304 640 -480 640
WIRE 592 640 592 624
WIRE -112 656 -112 320
WIRE -112 656 -240 656
WIRE 80 656 -32 656
WIRE 192 656 160 656
WIRE 288 656 256 656
WIRE -336 672 -400 672
WIRE -304 672 -336 672
WIRE -400 688 -400 672
WIRE 288 688 288 656
WIRE -400 784 -400 768
WIRE -480 832 -480 640
WIRE -304 832 -480 832
WIRE -32 848 -32 656
WIRE -32 848 -240 848
WIRE -432 864 -448 864
WIRE -336 864 -336 672
WIRE -336 864 -352 864
WIRE -304 864 -336 864
WIRE -448 880 -448 864
FLAG 640 384 0
FLAG 720 384 0
FLAG -640 256 Vcc
FLAG 256 208 Vcc
FLAG -208 176 Vcc
FLAG -208 112 0
FLAG 256 128 0
FLAG 0 304 0
FLAG -272 512 0
FLAG -272 688 Vcc
FLAG -272 624 0
FLAG 288 688 0
FLAG -400 784 0
FLAG 448 80 0
FLAG -336 224 0
FLAG 128 512 0
FLAG 464 -64 Vcc
FLAG -272 816 0
FLAG -272 880 Vcc
FLAG -448 880 0
FLAG 480 416 0
FLAG 656 560 Vcc
FLAG 656 496 0
FLAG 800 576 Curr_sense
FLAG -480 640 Curr_sense
FLAG -640 368 gnd_low
FLAG 480 544 gnd_low
FLAG 592 720 gnd_low
FLAG 624 112 base
FLAG 864 48 base
FLAG 1072 48 base
SYMBOL res 432 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 180R
SYMBOL voltage -640 272 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL res 624 272 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL cap 704 304 R0
SYMATTR InstName C1
SYMATTR Value 2.2µF
SYMBOL res 736 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 120
SYMBOL res 624 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 8k
SYMBOL res 0 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 112 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res -144 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res -256 400 M0
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res 176 640 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL LED 192 672 R270
WINDOW 0 72 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL voltage -400 672 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 1
SYMBOL cap 432 16 R0
WINDOW 3 -59 56 Left 2
SYMATTR Value 470n
SYMATTR InstName C2
SYMBOL voltage -336 128 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL res -128 224 R0
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL cap 112 448 R0
SYMATTR InstName C3
SYMATTR Value 22µF
SYMBOL res -336 848 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 470k
SYMBOL res 464 416 R0
SYMATTR InstName R19
SYMATTR Value 0.1
SYMBOL res 576 624 R0
SYMATTR InstName R20
SYMATTR Value 10k
SYMBOL res 736 640 M270
WINDOW 0 34 41 VTop 2
WINDOW 3 11 24 VBottom 2
SYMATTR InstName R21
SYMATTR Value 100k
SYMBOL res 464 288 R0
SYMATTR InstName R22
SYMATTR Value {RL}
SYMBOL Opamps\\UniversalOpamp2 -272 656 M180
SYMATTR InstName U1
SYMBOL Opamps\\UniversalOpamp2 -272 848 M180
SYMATTR InstName U2
SYMBOL Opamps\\UniversalOpamp2 656 528 M180
SYMATTR InstName U3
SYMBOL Opamps\\UniversalOpamp2 -208 144 M180
SYMATTR InstName U4
SYMBOL Opamps\\UniversalOpamp2 256 160 M180
SYMATTR InstName U5
SYMBOL npn -64 192 R0
SYMATTR InstName Q1
SYMBOL npn 544 -48 R0
SYMATTR InstName Q2
SYMBOL npn 656 0 R0
SYMATTR InstName Q3
SYMBOL res 704 96 R0
SYMATTR InstName R2
SYMATTR Value 0.1
SYMATTR SpiceLine tol=1%
SYMBOL npn 864 0 R0
SYMATTR InstName Q4
SYMBOL res 912 96 R0
SYMATTR InstName R3
SYMATTR Value 0.1
SYMATTR SpiceLine tol=1%
SYMBOL npn 1072 0 R0
SYMATTR InstName Q5
SYMBOL res 1120 96 R0
SYMATTR InstName R12
SYMATTR Value 0.1
SYMATTR SpiceLine tol=1%
TEXT -1176 544 Left 2 ;.STEP param RL 0.5k 1k 0.5k\n.STEP param Vadj 0 5 1\n.STEP param Cur 0 10 1\n.STEP param RL 1 20\n \n.op\n.STEP param I_load 0 0.5
TEXT -1176 480 Left 2 !.inc LM358.101
TEXT -1168 800 Left 2 ;.op\n.STEP param Vadj 0 7.5 2
TEXT -1176 424 Left 2 !.OPTIONS plotwinsize=0
TEXT -1168 272 Left 2 !.op\n.STEP param RL 1 20
TEXT -1168 384 Left 2 ;.tran 100us
