Version 4
SHEET 1 1396 1072
WIRE 160 -192 64 -192
WIRE 192 -192 160 -192
WIRE 304 -192 272 -192
WIRE 464 -192 432 -192
WIRE 496 -192 464 -192
WIRE -416 -176 -480 -176
WIRE -112 -176 -272 -176
WIRE 0 -176 -112 -176
WIRE 80 -160 64 -160
WIRE 464 -144 464 -192
WIRE -704 -128 -704 -160
WIRE -112 -16 -112 -176
WIRE -80 -16 -112 -16
WIRE 80 -16 80 -160
WIRE 80 -16 0 -16
WIRE 96 -16 80 -16
WIRE 304 -16 176 -16
WIRE 464 -16 464 -64
WIRE 464 -16 432 -16
WIRE 608 -16 464 -16
WIRE 720 -16 608 -16
WIRE 608 0 608 -16
WIRE 544 48 496 48
WIRE 720 48 720 -16
WIRE 624 96 608 96
WIRE 656 96 624 96
WIRE -240 128 -336 128
WIRE -336 144 -336 128
WIRE -96 144 -176 144
WIRE 0 144 -16 144
WIRE 16 144 0 144
WIRE 128 144 96 144
WIRE 224 144 128 144
WIRE -240 160 -272 160
WIRE 336 160 288 160
WIRE 496 160 496 48
WIRE 496 160 416 160
WIRE -1072 176 -1120 176
WIRE -944 176 -1072 176
WIRE 224 176 192 176
WIRE -864 192 -880 192
WIRE 0 192 0 144
WIRE 496 192 496 160
WIRE 528 192 496 192
WIRE 624 192 624 96
WIRE 624 192 608 192
WIRE 640 192 624 192
WIRE 720 192 720 144
WIRE -1072 208 -1072 176
WIRE -944 208 -992 208
WIRE 256 208 256 192
WIRE -912 240 -912 224
WIRE -64 240 -112 240
WIRE 192 272 192 176
WIRE 480 272 192 272
WIRE 720 272 720 192
WIRE 720 272 480 272
WIRE -992 304 -992 208
WIRE -864 304 -864 272
WIRE -864 304 -992 304
WIRE 0 304 0 288
WIRE 480 304 480 272
WIRE -864 320 -864 304
WIRE -1072 368 -1072 288
WIRE -272 384 -272 160
WIRE -240 384 -272 384
WIRE 128 384 128 144
WIRE 128 384 -160 384
WIRE 640 384 640 368
WIRE 720 384 720 368
WIRE -272 416 -272 384
WIRE 480 416 480 384
WIRE 592 416 480 416
WIRE 480 432 480 416
WIRE -864 448 -864 400
WIRE -272 512 -272 496
WIRE 592 512 592 416
WIRE 624 512 592 512
WIRE 752 528 688 528
WIRE 480 544 480 512
WIRE 624 544 592 544
WIRE 752 576 752 528
WIRE 800 576 752 576
WIRE 592 624 592 544
WIRE 640 624 592 624
WIRE 752 624 752 576
WIRE 752 624 720 624
WIRE -480 640 -480 -176
WIRE -304 640 -480 640
WIRE 592 640 592 624
WIRE -112 656 -112 320
WIRE -112 656 -240 656
WIRE 80 656 -32 656
WIRE 192 656 160 656
WIRE 288 656 256 656
WIRE -336 672 -400 672
WIRE -304 672 -336 672
WIRE -400 688 -400 672
WIRE 288 688 288 656
WIRE -400 784 -400 768
WIRE -480 832 -480 640
WIRE -304 832 -480 832
WIRE -32 848 -32 656
WIRE -32 848 -240 848
WIRE -432 864 -448 864
WIRE -336 864 -336 672
WIRE -336 864 -352 864
WIRE -304 864 -336 864
WIRE -448 880 -448 864
FLAG 640 384 0
FLAG -704 -48 0
FLAG 720 384 0
FLAG -864 448 0
FLAG -704 -160 Vcc
FLAG -912 240 Vcc
FLAG 256 208 Vcc
FLAG -1072 368 0
FLAG -208 176 Vcc
FLAG -208 112 0
FLAG -912 160 0
FLAG 256 128 0
FLAG 0 304 0
FLAG -272 512 0
FLAG -272 688 Vcc
FLAG -272 624 0
FLAG 288 688 0
FLAG -400 784 0
FLAG 32 -144 Vcc
FLAG 32 -208 0
FLAG 160 -112 0
FLAG 448 80 0
FLAG -336 224 0
FLAG 128 512 0
FLAG 496 -192 Vcc
FLAG -272 816 0
FLAG -272 880 Vcc
FLAG -448 880 0
FLAG 480 544 0
FLAG 656 560 Vcc
FLAG 592 720 0
FLAG 656 496 0
FLAG 800 576 Curr_sense
FLAG -480 -176 Curr_sense
FLAG 480 416 gnd_low
SYMBOL npn 544 0 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL npn 656 48 R0
SYMATTR InstName Q2
SYMATTR Value FZT849
SYMBOL res 432 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 180R
SYMBOL voltage -1072 192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -704 -144 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL res 624 272 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL cap 704 304 R0
SYMATTR InstName C1
SYMATTR Value 2.2µF
SYMBOL res 736 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 120
SYMBOL res 624 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 8k
SYMBOL res -880 176 R0
SYMATTR InstName R2
SYMATTR Value 56k
SYMBOL res -848 416 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 15k
SYMBOL res 0 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 112 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL npn -64 192 R0
SYMATTR InstName Q3
SYMATTR Value 2N2222
SYMBOL res -144 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res -256 400 M0
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res 176 640 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL LED 192 672 R270
WINDOW 0 72 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL voltage -400 672 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 1
SYMBOL res -96 -32 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL res 80 -32 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res 176 -208 M0
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL res 288 -176 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL res 448 -48 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R16
SYMATTR Value 1R
SYMBOL cap 432 16 R0
WINDOW 3 -59 56 Left 2
SYMATTR Value 470n
SYMATTR InstName C2
SYMBOL voltage -336 128 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 9
SYMBOL res -128 224 R0
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL cap 112 448 R0
SYMATTR InstName C3
SYMATTR Value 22µF
SYMBOL res -336 848 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 470k
SYMBOL res 464 416 R0
SYMATTR InstName R19
SYMATTR Value 0.1
SYMBOL res 576 624 R0
SYMATTR InstName R20
SYMATTR Value 10k
SYMBOL res 736 640 M270
WINDOW 0 34 41 VTop 2
WINDOW 3 11 24 VBottom 2
SYMATTR InstName R21
SYMATTR Value 90k
SYMBOL Opamps\\opamp2 -912 256 M180
SYMATTR InstName U1
SYMATTR Value LM358
SYMBOL Opamps\\opamp2 32 -112 R180
SYMATTR InstName U2
SYMATTR Value LM358
SYMBOL Opamps\\opamp2 -208 208 M180
SYMATTR InstName U3
SYMATTR Value LM358
SYMBOL Opamps\\opamp2 -272 720 M180
SYMATTR InstName U4
SYMATTR Value LM358
SYMBOL Opamps\\opamp2 -272 912 M180
SYMATTR InstName U5
SYMATTR Value LM358
SYMBOL Opamps\\opamp2 656 592 M180
SYMATTR InstName U6
SYMATTR Value LM358
SYMBOL Opamps\\opamp2 256 224 M180
SYMATTR InstName U7
SYMATTR Value LM358
SYMBOL res 464 288 R0
SYMATTR InstName R22
SYMATTR Value {RL}
SYMBOL diode 368 -208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMBOL diode 432 -208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMBOL diode 432 -32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D4
SYMBOL diode 368 -32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D5
TEXT -1072 600 Left 2 ;.STEP param RL 0.5k 1k 0.5k\n.STEP param Vadj 0 5 1\n.STEP param Cur 0 10 1\n \n.op\n.STEP param I_load 0 0.5
TEXT -1144 528 Left 2 !.inc LM358.101
TEXT -1040 800 Left 2 !.op\n.STEP param RL 1 20
