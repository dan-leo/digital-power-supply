Version 4
SHEET 1 3364 1108
WIRE 1920 224 1904 224
WIRE 2000 224 1984 224
WIRE 2112 224 2096 224
WIRE 1984 256 1984 224
WIRE 2352 256 2320 256
WIRE 2464 256 2432 256
WIRE 2640 256 2624 256
WIRE 2752 256 2720 256
WIRE 2800 256 2752 256
WIRE 2912 256 2880 256
WIRE 2960 256 2912 256
WIRE 1168 272 1104 272
WIRE 2752 272 2752 256
WIRE 2912 272 2912 256
WIRE 192 288 -48 288
WIRE 416 288 192 288
WIRE 672 288 480 288
WIRE 784 288 672 288
WIRE 800 288 784 288
WIRE 1664 288 1600 288
WIRE 1760 304 1728 304
WIRE 1792 304 1760 304
WIRE 1920 304 1920 224
WIRE 1920 304 1872 304
WIRE 2096 304 2096 224
WIRE 1168 320 1168 272
WIRE 1632 320 1600 320
WIRE 1664 320 1632 320
WIRE 96 336 80 336
WIRE 192 336 192 288
WIRE 192 336 160 336
WIRE 224 336 192 336
WIRE 304 336 288 336
WIRE 1920 352 1920 304
WIRE 2016 352 1984 352
WIRE 2032 352 2016 352
WIRE 2752 352 2752 336
WIRE 2912 352 2912 336
WIRE 672 368 672 288
WIRE 784 368 784 288
WIRE -48 384 -48 288
WIRE 80 384 80 336
WIRE 80 384 48 384
WIRE 304 384 304 336
WIRE 368 384 304 384
WIRE 448 384 368 384
WIRE 528 384 448 384
WIRE 48 400 48 384
WIRE 1760 400 1760 304
WIRE 1168 416 1168 400
WIRE 1264 416 1168 416
WIRE 368 432 368 384
WIRE 448 432 448 384
WIRE 2352 432 2320 432
WIRE 2464 432 2432 432
WIRE 2640 432 2624 432
WIRE 2752 432 2720 432
WIRE 2800 432 2752 432
WIRE 2912 432 2880 432
WIRE 2960 432 2912 432
WIRE 80 448 80 384
WIRE 96 448 80 448
WIRE 192 448 160 448
WIRE 224 448 192 448
WIRE 304 448 304 384
WIRE 304 448 288 448
WIRE 1168 448 1168 416
WIRE 1920 448 1920 432
WIRE 2016 448 2016 352
WIRE 2016 448 1920 448
WIRE 2096 448 2096 400
WIRE 2752 448 2752 432
WIRE 2912 448 2912 432
WIRE -48 512 -48 464
WIRE 192 512 192 448
WIRE 192 512 -48 512
WIRE 368 512 368 496
WIRE 448 512 448 496
WIRE 672 512 672 432
WIRE 784 512 784 432
WIRE 1536 528 1504 528
WIRE 1632 528 1632 320
WIRE 1632 528 1616 528
WIRE 1760 528 1760 464
WIRE 1760 528 1632 528
WIRE 1952 528 1760 528
WIRE 2096 528 2096 448
WIRE 2096 528 2032 528
WIRE 2112 528 2096 528
WIRE 2752 528 2752 512
WIRE 2912 528 2912 512
WIRE 1168 544 1168 528
WIRE 880 688 816 688
WIRE 160 704 80 704
WIRE 304 704 160 704
WIRE 464 704 384 704
WIRE 1712 720 1696 720
WIRE 880 736 880 688
WIRE 160 752 160 704
WIRE 464 752 464 704
WIRE 1696 752 1696 720
WIRE 2768 752 2704 752
WIRE 1312 784 1280 784
WIRE 2704 784 2704 752
WIRE 2704 784 2640 784
WIRE 1440 800 1376 800
WIRE 1488 800 1440 800
WIRE 1632 800 1552 800
WIRE 304 816 304 704
WIRE 1312 816 1280 816
WIRE 2000 816 1984 816
WIRE 2192 816 2000 816
WIRE 880 832 880 816
WIRE 976 832 880 832
WIRE 2336 832 2256 832
WIRE 2384 832 2336 832
WIRE 2640 832 2640 784
WIRE 2704 832 2704 784
WIRE 464 848 464 832
WIRE 560 848 464 848
WIRE 2000 848 2000 816
WIRE 2192 848 2144 848
WIRE 160 864 160 832
WIRE 160 864 80 864
WIRE 240 864 160 864
WIRE 880 864 880 832
WIRE 2336 864 2336 832
WIRE 160 880 160 864
WIRE 464 880 464 848
WIRE 1696 880 1696 848
WIRE 80 896 80 864
WIRE 1440 896 1440 800
WIRE 384 912 384 704
WIRE 384 912 304 912
WIRE 880 960 880 944
WIRE 80 976 80 960
WIRE 160 976 160 944
WIRE 464 976 464 960
WIRE 2640 976 2640 896
WIRE 2704 976 2704 912
WIRE 2000 992 2000 928
WIRE 2000 992 1984 992
WIRE 2144 992 2144 848
WIRE 2336 992 2336 944
WIRE 2336 992 2144 992
WIRE 2384 992 2336 992
WIRE 2496 992 2464 992
WIRE 1280 1008 1280 816
WIRE 1440 1008 1440 960
WIRE 1440 1008 1280 1008
WIRE 1552 1008 1440 1008
FLAG 48 400 0
FLAG 368 512 0
FLAG 528 384 Vcc
FLAG 672 512 0
FLAG 784 512 0
FLAG 448 512 0
FLAG 800 288 Vsteady
FLAG 1696 336 Vsteady
FLAG 1696 272 0
FLAG 1504 528 0
FLAG 1904 224 base
FLAG 2112 224 Vcc
FLAG 2000 224 Vsteady
FLAG 1600 288 Vreg_in
FLAG 160 976 0
FLAG 80 976 0
FLAG 80 704 Vsteady
FLAG 464 976 0
FLAG 560 848 V_5
FLAG 1168 544 0
FLAG 1104 272 V_5
FLAG 1264 416 Vreg_in
FLAG 1344 768 Vsteady
FLAG 1344 832 0
FLAG 1696 880 0
FLAG 1712 720 base
FLAG 880 960 0
FLAG 816 688 V_5
FLAG 1280 784 Creg_in
FLAG 976 832 Creg_in
FLAG 1552 1008 Cmeas
FLAG 2112 528 Ve
FLAG 1984 816 Ve
FLAG 1984 992 Vout
FLAG 2224 864 Vsteady
FLAG 2224 800 0
FLAG 2496 992 0
FLAG 2384 832 Cmeas
FLAG 2320 432 Cmeas
FLAG 2320 256 Vmeas
FLAG 1600 320 Vmeas
FLAG 2912 352 0
FLAG 2752 352 0
FLAG 2960 256 Vreg_in
FLAG 2912 528 0
FLAG 2752 528 0
FLAG 2960 432 Creg_in
FLAG 2768 752 Vout
FLAG 2640 976 0
FLAG 2704 976 0
SYMBOL voltage -48 368 R0
SYMATTR InstName V1
SYMBOL diode 96 352 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL diode 224 352 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMBOL diode 224 464 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMBOL diode 96 464 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMBOL cap 352 432 R0
SYMATTR InstName C1
SYMATTR Value 10mF
SYMATTR SpiceLine Rser=0.1
SYMBOL cap 656 368 R0
SYMATTR InstName C2
SYMATTR Value 10mF
SYMATTR SpiceLine Rser=0.1
SYMBOL cap 768 368 R0
SYMATTR InstName C3
SYMATTR Value 10mF
SYMATTR SpiceLine Rser=0.1
SYMBOL cap 432 432 R0
SYMATTR InstName C4
SYMATTR Value 10mF
SYMATTR SpiceLine Rser=0.1
SYMBOL diode 416 304 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D5
SYMBOL npn 2032 304 R0
SYMATTR InstName Q1
SYMATTR Value 2N3055
SYMBOL npn 1920 256 R0
SYMATTR InstName Q2
SYMATTR Value 2N2222
SYMBOL res 1888 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL Opamps\\opamp2 1696 368 M180
SYMATTR InstName U1
SYMATTR Value LM358
SYMBOL res 1936 448 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 8.2k
SYMBOL res 2112 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res 2048 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 22k
SYMBOL cap 1744 400 R0
SYMATTR InstName C5
SYMATTR Value 220µF
SYMBOL res 1632 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 5.1k
SYMBOL zener 176 944 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMATTR Value 6.2V
SYMBOL res 144 736 R0
SYMATTR InstName R6
SYMATTR Value 5.1k
SYMBOL cap 96 960 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C6
SYMATTR Value 10µF
SYMBOL npn 240 816 R0
SYMATTR InstName Q3
SYMATTR Value 2N2222
SYMBOL res 448 864 R0
SYMATTR InstName R7
SYMATTR Value 8k
SYMBOL res 448 736 R0
SYMATTR InstName R8
SYMATTR Value 2k
SYMBOL res 1152 432 R0
SYMATTR InstName R9
SYMATTR Value 5k
SYMBOL res 1152 304 R0
SYMATTR InstName R10
SYMATTR Value 5k
SYMBOL Opamps\\opamp2 1344 736 R0
SYMATTR InstName U2
SYMATTR Value LM358
SYMBOL zener 1552 784 R90
WINDOW 0 -4 32 VBottom 2
WINDOW 3 36 32 VTop 2
SYMATTR InstName D7
SYMATTR Value 3.6V
SYMBOL res 864 848 R0
SYMATTR InstName R11
SYMATTR Value 5k
SYMBOL res 864 720 R0
SYMATTR InstName R12
SYMATTR Value 5k
SYMBOL cap 1424 896 R0
SYMATTR InstName C7
SYMATTR Value 220µF
SYMBOL res 1984 832 R0
SYMATTR InstName R13
SYMATTR Value 0.1
SYMBOL npn 1632 752 R0
SYMATTR InstName Q4
SYMATTR Value 2N2222
SYMBOL Opamps\\opamp2 2224 896 M180
SYMATTR InstName U4
SYMATTR Value LM358
SYMBOL res 2480 976 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 1k
SYMBOL res 2352 960 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R19
SYMATTR Value 39k
SYMBOL res 2448 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 10k
SYMBOL res 2448 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 10k
SYMBOL res 2736 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 10k
SYMBOL cap 2736 272 R0
SYMATTR InstName C8
SYMATTR Value 100n
SYMBOL res 2896 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 100k
SYMBOL cap 2896 272 R0
SYMATTR InstName C9
SYMATTR Value 10n
SYMBOL res 2736 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 10k
SYMBOL cap 2736 448 R0
SYMATTR InstName C10
SYMATTR Value 100n
SYMBOL res 2896 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R25
SYMATTR Value 100k
SYMBOL cap 2896 448 R0
SYMATTR InstName C11
SYMATTR Value 10n
SYMBOL res 2688 816 R0
SYMATTR InstName R26
SYMATTR Value 5.1k
SYMBOL cap 2624 832 R0
SYMATTR InstName C12
SYMATTR Value 10µF
TEXT -120 152 Left 2 !.inc C:\\GIT\\digital-power-supply\\schematic\\LM358.101
TEXT 528 896 Left 2 ;trimpot
TEXT 960 912 Left 2 ;adj pot
TEXT 1240 496 Left 2 ;adj pot
TEXT 1432 680 Left 2 ;current comparitor
TEXT 2072 688 Left 2 ;current measurement
TEXT 1688 560 Left 2 ;voltage regulator
TEXT 560 240 Left 2 ;power source
TEXT 1056 -64 Left 5 ;Digital power supply\n18361137\nDaniel Robinson\n19-Oct-2016
TEXT 2504 336 Left 2 ;Arduino
RECTANGLE Normal 928 592 -112 208 2
RECTANGLE Normal 672 1056 -112 640 2
RECTANGLE Normal 1792 1056 1152 640 2
RECTANGLE Normal 1104 1056 720 640 2
RECTANGLE Normal 1392 592 976 208 2
RECTANGLE Normal 2192 592 1440 208 2
RECTANGLE Normal 3056 592 2240 208 2
RECTANGLE Normal 2848 1056 2592 640 2
RECTANGLE Normal 2624 432 2464 256 2
RECTANGLE Normal 1840 1056 2544 640 2
